const data = [
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/7a5b82d1372a7a5c6de67ae7a314fd91_images.jpg",
        "articleType": "Shirts",
        "baseColour": "Navy Blue",
        "filename": "15970.jpg",
        "gender": "Men",
        "id": 15970,
        "masterCategory": "Apparel",
        "price": 1624,
        "productDisplayName": "Turtle Check Men Navy Blue Shirt",
        "season": "Fall",
        "subCategory": "Topwear",
        "usage": "Casual",
        "year": 2011
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/4850873d0c417e6480a26059f83aac29_images.jpg",
        "articleType": "Jeans",
        "baseColour": "Blue",
        "filename": "39386.jpg",
        "gender": "Men",
        "id": 39386,
        "masterCategory": "Apparel",
        "price": 688,
        "productDisplayName": "Peter England Men Party Blue Jeans",
        "season": "Summer",
        "subCategory": "Bottomwear",
        "usage": "Casual",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/Titan-Women-Silver-Watch_b4ef04538840c0020e4829ecc042ead1_images.jpg",
        "articleType": "Watches",
        "baseColour": "Silver",
        "filename": "59263.jpg",
        "gender": "Women",
        "id": 59263,
        "masterCategory": "Accessories",
        "price": 539,
        "productDisplayName": "Titan Women Silver Watch",
        "season": "Winter",
        "subCategory": "Watches",
        "usage": "Casual",
        "year": 2016
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/8153dc35d9a5420eeb93922067137db6_images.jpg",
        "articleType": "Track Pants",
        "baseColour": "Black",
        "filename": "21379.jpg",
        "gender": "Men",
        "id": 21379,
        "masterCategory": "Apparel",
        "price": 1171,
        "productDisplayName": "Manchester United Men Solid Black Track Pants",
        "season": "Fall",
        "subCategory": "Bottomwear",
        "usage": "Casual",
        "year": 2011
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/Puma-Men-Grey-T-shirt_32668f8a61454d0cc028a808cf21b383_images.jpg",
        "articleType": "Tshirts",
        "baseColour": "Grey",
        "filename": "53759.jpg",
        "gender": "Men",
        "id": 53759,
        "masterCategory": "Apparel",
        "price": 1279,
        "productDisplayName": "Puma Men Grey T-shirt",
        "season": "Summer",
        "subCategory": "Topwear",
        "usage": "Casual",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/9c1b19682ecf926c296f520d5d6e0972_images.jpg",
        "articleType": "Tshirts",
        "baseColour": "Grey",
        "filename": "1855.jpg",
        "gender": "Men",
        "id": 1855,
        "masterCategory": "Apparel",
        "price": 2026,
        "productDisplayName": "Inkfruit Mens Chain Reaction T-shirt",
        "season": "Summer",
        "subCategory": "Topwear",
        "usage": "Casual",
        "year": 2011
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/06e9d4231254fdb2c7fe967ad413ad7b_images.jpg",
        "articleType": "Shirts",
        "baseColour": "Green",
        "filename": "30805.jpg",
        "gender": "Men",
        "id": 30805,
        "masterCategory": "Apparel",
        "price": 801,
        "productDisplayName": "Fabindia Men Striped Green Shirt",
        "season": "Summer",
        "subCategory": "Topwear",
        "usage": "Ethnic",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/45ddbc6a15140556214e15923244755b_images.jpg",
        "articleType": "Shirts",
        "baseColour": "Purple",
        "filename": "26960.jpg",
        "gender": "Women",
        "id": 26960,
        "masterCategory": "Apparel",
        "price": 244,
        "productDisplayName": "Jealous 21 Women Purple Shirt",
        "season": "Summer",
        "subCategory": "Topwear",
        "usage": "Casual",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/4ca8848ab441378a392d9d5bf0b0f3c7_images.jpg",
        "articleType": "Socks",
        "baseColour": "Navy Blue",
        "filename": "29114.jpg",
        "gender": "Men",
        "id": 29114,
        "masterCategory": "Accessories",
        "price": 1708,
        "productDisplayName": "Puma Men Pack of 3 Socks",
        "season": "Summer",
        "subCategory": "Socks",
        "usage": "Casual",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/Skagen-Men-Black-Watch_4982b2b1a76a85a85c9adc8b4b2d523a_images.jpg",
        "articleType": "Watches",
        "baseColour": "Black",
        "filename": "30039.jpg",
        "gender": "Men",
        "id": 30039,
        "masterCategory": "Accessories",
        "price": 1838,
        "productDisplayName": "Skagen Men Black Watch",
        "season": "Winter",
        "subCategory": "Watches",
        "usage": "Casual",
        "year": 2016
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/051d64772f1b38ff476fbf0a807f365a_images.jpg",
        "articleType": "Casual Shoes",
        "baseColour": "Black",
        "filename": "9204.jpg",
        "gender": "Men",
        "id": 9204,
        "masterCategory": "Footwear",
        "price": 1230,
        "productDisplayName": "Puma Men Future Cat Remix SF Black Casual Shoes",
        "season": "Summer",
        "subCategory": "Shoes",
        "usage": "Casual",
        "year": 2011
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/8eee4563e14cf451b07f27761fd6535f_images.jpg",
        "articleType": "Belts",
        "baseColour": "Black",
        "filename": "48123.jpg",
        "gender": "Women",
        "id": 48123,
        "masterCategory": "Accessories",
        "price": 2362,
        "productDisplayName": "Fossil Women Black Huarache Weave Belt",
        "season": "Summer",
        "subCategory": "Belts",
        "usage": "Casual",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/53690e3f396f411e184b249672d6ebae_images.jpg",
        "articleType": "Flip Flops",
        "baseColour": "Black",
        "filename": "18653.jpg",
        "gender": "Men",
        "id": 18653,
        "masterCategory": "Footwear",
        "price": 214,
        "productDisplayName": "Fila Men Cush Flex Black Slippers",
        "season": "Fall",
        "subCategory": "Flip Flops",
        "usage": "Casual",
        "year": 2011
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/Murcia-Women-Blue-Handbag_13cfaff26872c298112a8e7da15c1e1d_images.jpg",
        "articleType": "Handbags",
        "baseColour": "Blue",
        "filename": "47957.jpg",
        "gender": "Women",
        "id": 47957,
        "masterCategory": "Accessories",
        "price": 535,
        "productDisplayName": "Murcia Women Blue Handbag",
        "season": "Summer",
        "subCategory": "Bags",
        "usage": "Casual",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/5cab6a2305d0e63142f721228aa6d293_images.jpg",
        "articleType": "Flip Flops",
        "baseColour": "Navy Blue",
        "filename": "46885.jpg",
        "gender": "Boys",
        "id": 46885,
        "masterCategory": "Footwear",
        "price": 361,
        "productDisplayName": "Ben 10 Boys Navy Blue Slippers",
        "season": "Fall",
        "subCategory": "Flip Flops",
        "usage": "Casual",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/8bc9be576081baae77e8561b1132288f_images.jpg",
        "articleType": "Shirts",
        "baseColour": "Purple",
        "filename": "12369.jpg",
        "gender": "Men",
        "id": 12369,
        "masterCategory": "Apparel",
        "price": 2270,
        "productDisplayName": "Reid & Taylor Men Check Purple Shirts",
        "season": "Fall",
        "subCategory": "Topwear",
        "usage": "Formal",
        "year": 2011
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/Police-Men-Black-Dial-Watch_5bd8cae4fc61052a6f00cfcd69c4a936_images.jpg",
        "articleType": "Watches",
        "baseColour": "Black",
        "filename": "29928.jpg",
        "gender": "Men",
        "id": 29928,
        "masterCategory": "Accessories",
        "price": 919,
        "productDisplayName": "Police Men Black Dial Watch PL12889JVSB",
        "season": "Winter",
        "subCategory": "Watches",
        "usage": "Casual",
        "year": 2016
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/f3964f76c78edd85f4512d98b26d52e9_images.jpg",
        "articleType": "Tops",
        "baseColour": "White",
        "filename": "42419.jpg",
        "gender": "Girls",
        "id": 42419,
        "masterCategory": "Apparel",
        "price": 1252,
        "productDisplayName": "Gini and Jony Girls Knit White Top",
        "season": "Summer",
        "subCategory": "Topwear",
        "usage": "Casual",
        "year": 2012
    },
    {
        "Link": "http://assets.myntassets.com/v1/image/style/properties/51832/Bwitch-Beige-Full-Coverage-Bra-BW335_1_d516fa94f14f0a5ecc90df7754390eb5.jpg",
        "articleType": "Bra",
        "baseColour": "Beige",
        "filename": "51832.jpg",
        "gender": "Women",
        "id": 51832,
        "masterCategory": "Apparel",
        "price": 450,
        "productDisplayName": "Bwitch Beige Full-Coverage Bra BW335",
        "season": "Summer",
        "subCategory": "Innerwear",
        "usage": "Casual",
        "year": 2016
    },
    {
        "Link": "http://assets.myntassets.com/v1/images/style/properties/b14c7bf275c6edca3e849200fb7cbf6c_images.jpg",
        "articleType": "Handbags",
        "baseColour": "Brown",
        "filename": "47359.jpg",
        "gender": "Women",
        "id": 47359,
        "masterCategory": "Accessories",
        "price": 1349,
        "productDisplayName": "Baggit Women Brown Handbag",
        "season": "Summer",
        "subCategory": "Bags",
        "usage": "Casual",
        "year": 2012
    },
 
]
const table_body = document.querySelector("#product-table tbody")
const selectAllcheckbox = document.querySelector("#selectAll")

const quantityById = {};

// Iterate through data and assign quantity
data.forEach((product)=>{
    if(!quantityById[(product.id)]){
        quantityById[(product.id)] = 0
    }
    quantityById[product.id]++;
})
//inserting the data into the table
data.forEach((product)=>{
    const row = document.createElement("tr")

    row.innerHTML =` 
        <td><input type ="checkbox"></td>
        <td><img src= "${product.Link}" alt="img" style= "width:50px; height:50px" /> </td>
        <td>${product.productDisplayName}</td>
        <td>${product.subCategory}</td>
        <td>${product.price}</td>
        <td>${quantityById[product.id] || 0} </td>
        <td>
            <select>
                <option value='Add'>Add</option>
                <option value='Remove'>Remove</option>
                <option value='Modify'>Modify</option>          
            </select>
        </td>
        
    `;

    table_body.appendChild(row);
})

// to handle select all functionality
selectAllcheckbox.addEventListener("change", (e) =>{
    const checkboxes = document.querySelectorAll("#product-table tbody input[type='checkbox']");
    checkboxes.forEach((checkbox) =>{
        checkbox.checked = e.target.checked;
    })
})

// functionality for filter

// Filter products
document.getElementById("applyFilter").addEventListener("click", ()=>{
    const filters = {
        name: document.getElementById("filterProductName").value.toLowerCase(),
        category: document.getElementById("filterCategory").value.toLowerCase(),
        price: document.getElementById("filterPrice").value,
        quantity: document.getElementById("filterQuant").value,
        status: document.getElementById("filterStatus").value.toLowerCase(),

        
    };
    document.querySelectorAll("#product-table tbody tr").forEach(row=>{
        const[, , name, category, price, quantity, statusEl] = row.children;
        const status = statusEl.querySelector("select").value.toLowerCase();

        row.style.display = (
            (!filters.name || name.textContent.toLowerCase().includes(filters.name)) &&
            (!filters.category || category.textContent.toLowerCase().includes(filters.category)) &&
            (!filters.price || parseFloat(price.textContent) <= parseFloat(filters.price)) &&
            (!filters.quantity || parseInt(quantity.textContent) >= parseInt(filters.quantity)) &&
            (!filters.status || status === filters.status)
        ) ? "" : "none";

        
    })

})

